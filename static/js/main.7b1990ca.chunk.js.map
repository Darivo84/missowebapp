{"version":3,"sources":["components/buttons/LoginButton.jsx","pages/Home.jsx","pages/Welcome.jsx","App.js","index.js"],"names":["LoginBtn","styled","div","LoginButton","useState","setIsAuthenticated","setAuthUser","history","useHistory","fetchAuthUser","a","Axios","get","withCredentials","catch","err","console","log","response","data","push","redirectToGoogleSSO","Timeout","newWindow","window","open","setInterval","closed","clearInterval","onClick","style","color","fontSize","fontFamily","fontWeight","textDecoration","boxShadow","Container","Title","h1","InfoBox","SubTitle","p","Home","Welcome","App","exact","path","component","ReactDOM","render","StrictMode","basename","document","getElementById"],"mappings":"+OAKMA,EAAWC,IAAOC,IAAV,gOA6DCC,EAjDK,WAAO,IAAD,EACsBC,oBAAS,GAD/B,mBACAC,GADA,aAEQD,mBAAS,MAFjB,mBAEPE,GAFO,WAGlBC,EAAUC,cAGVC,EAAa,uCAAG,4BAAAC,EAAA,sEACGC,IAAMC,IAAI,8CAA+C,CAAEC,iBAAiB,IAAQC,OAAM,SAACC,GAChHC,QAAQC,IAAI,8BACZZ,GAAmB,GACnBC,EAAY,SAJM,QACdY,EADc,SAQJA,EAASC,OACvBH,QAAQC,IAAI,SAAUC,EAASC,MAC/Bd,GAAmB,GACnBC,EAAYY,EAASC,MACrBZ,EAAQa,KAAK,qDAZK,2CAAH,qDAiBbC,EAAmB,uCAAG,8BAAAX,EAAA,sDACtBY,EAAU,KACS,kDACjBC,EAAYC,OAAOC,KADF,iDACuB,SAAU,2BAGtDH,EAAUI,aAAY,WAChBH,EAAUI,SACZX,QAAQC,IAAI,gCACZR,IACIa,GAASM,cAAcN,MAE5B,MAZqB,2CAAH,qDAiBzB,OACE,cAAC,IAAD,CAAMO,QAASR,EAAqBS,MAAO,CAAEC,MAAO,QAASC,SAAU,OAAQC,WAAY,SAAUC,WAAY,OAAOC,eAAgB,OAAQC,UAAW,mCAA3J,SACE,cAACpC,EAAD,uBCrDAqC,EAAYpC,IAAOC,IAAV,uLAUToC,EAAQrC,IAAOsC,GAAV,kGAMLC,EAAUvC,IAAOC,IAAV,+QAYPuC,EAAWxC,IAAOyC,EAAV,6IAoBCC,EAZF,WACX,OACE,eAACN,EAAD,WACE,cAACC,EAAD,+BACA,eAACE,EAAD,WACE,cAACC,EAAD,+CACA,cAAC,EAAD,WC7CFJ,EAAYpC,IAAOC,IAAV,uLAUToC,EAAQrC,IAAOsC,GAAV,kGAeIK,EARC,WACd,OACE,cAAC,EAAD,UACE,cAAC,EAAD,oDCPSC,MATf,WACE,OACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,IAAIC,UAAWL,IACjC,cAAC,IAAD,CAAOI,KAAK,WAAWC,UAAWJ,QCNxCK,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,CAAQC,SAAS,eAAjB,SACE,cAAC,EAAD,QAGJC,SAASC,eAAe,W","file":"static/js/main.7b1990ca.chunk.js","sourcesContent":["import React, { useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport styled from 'styled-components';\nimport Axios from 'axios';\n\nconst LoginBtn = styled.div`\n  width: 250px;\n  height: 70px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  border-radius: 10px;\n  background: rgba(255, 255, 255, 0.3);\n`;\n\n\nconst LoginButton = () => {\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [authUser, setAuthUser] = useState(null);\n  const history = useHistory();\n\n  // Fetch\n  const fetchAuthUser = async () => {\n    const response = await Axios.get('http://18.135.104.137:5000/api/v1/auth/user', { withCredentials: true }).catch((err) => {\n      console.log('Not properly authenticated');\n      setIsAuthenticated(false);\n      setAuthUser(null);\n      // history.push('/login/error');\n    });\n\n    if (response && response.data) {\n      console.log('User: ', response.data);\n      setIsAuthenticated(true);\n      setAuthUser(response.data);\n      history.push('https://darivo84.github.io/missowebapp/#/welcome');\n    }\n  }\n\n  // Login/Register with Google\n  const redirectToGoogleSSO = async () => {\n    let Timeout = null;\n    const googleLoginUrl = 'http://18.135.104.137:5000/api/v1/login/google';\n    const newWindow = window.open(googleLoginUrl, '_blank', \"width=500,height=600\")\n\n    if (newWindow) {\n      Timeout = setInterval(() => {\n        if (newWindow.closed) {\n          console.log('Yay!!! We are authenticated!');\n          fetchAuthUser();\n          if (Timeout) clearInterval(Timeout);\n        }\n      }, 500);\n    }\n  }\n  \n\n  return (\n    <Link onClick={redirectToGoogleSSO} style={{ color: 'white', fontSize: '18px', fontFamily: 'Nunito', fontWeight: 'bold',textDecoration: 'none', boxShadow: 'rgba(0, 0, 0, 0.24) 0px 3px 8px' }}>\n      <LoginBtn>\n        Login\n      </LoginBtn>\n    </Link>\n  )\n}\n\nexport default LoginButton\n","import React from 'react'\nimport styled from 'styled-components';\n\n// Components\nimport LoginButton from '../components/buttons/LoginButton';\n\nconst Container = styled.div`\n  width: 100%;\n  height: 100vh;\n  background: #cbcbcb;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n`; \n\nconst Title = styled.h1`\n  color: #5c5858;\n  font-family: 'Nunito';\n  padding-bottom: 15px;\n`;\n\nconst InfoBox = styled.div`\n  width: 50vw;\n  height: 60vh;\n  background: rgba(255, 255, 255, 0.2);\n  border-radius: 15px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;\n`;\n\nconst SubTitle = styled.p`\n  color: #5c5858;\n  font-size: 18px;\n  font-family: 'Nunito';\n  text-align: center;\n  padding-bottom: 15px;\n`;\n\nconst Home = () => {\n  return (\n    <Container>\n      <Title>Welcome to MISSO</Title>\n      <InfoBox>\n        <SubTitle> Please login to access our site</SubTitle>\n        <LoginButton />\n      </InfoBox>\n    </Container>\n  )\n}\n\nexport default Home\n","import React from 'react'\nimport styled from 'styled-components';\n\nconst Container = styled.div`\n  width: 100%;\n  height: 100vh;\n  background: #cbcbcb;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n`; \n\nconst Title = styled.h1`\n  color: #5c5858;\n  font-family: 'Nunito';\n  padding-bottom: 15px;\n`;\n\n\nconst Welcome = () => {\n  return (\n    <Container>\n      <Title>Welcome and thanks for logging in.</Title>\n    </Container>\n  )\n}\n\nexport default Welcome\n","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\n\n// Page Components\nimport Home from './pages/Home';\nimport Welcome from './pages/Welcome';\n\nfunction App() {\n  return (\n    <Switch>\n      <Route exact path=\"/\" component={Home} />\n      <Route path=\"/welcome\" component={Welcome} />\n    </Switch>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter as Router } from 'react-router-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router basename=\"/missowebapp\">\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}